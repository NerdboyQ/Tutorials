<!doctype html>
<html lang="en">
  <!-- The head tag is required for all html files; it provides information 
    about the page and references any necessary files before the page begins to load-->
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Materialize Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Import Jquery -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <title>Home Chores</title>
  </head>

  <nav>
    <div class="nav-wrapper cyan darken-2">
      <a href="#" class="brand-logo right">
        <img src="./chores_icon.png" align="right" style="filter:invert(100%);max-width:10%;max-height:100%;">
      </a>
      <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
      <ul id="nav-mobile" class="left hide-on-med-and-down">
        <div class="nav-content">
          <ul class="tabs tabs-transparent">
            <li class="tab"><b><a id="vw_dashboard" class="active" href="#">Dashboard</a></b></li>
            <li class="tab"><b><a id="vw_chores" class="inactive" href="#">Chore Assignment</a></b></li>
            <li class="tab"><b><a id="vw_admin" class="inactive" href="#">Admin</a></b></li>
          </ul>
        </div>
      </ul>
    </div>
  </nav>
        
  <ul class="sidenav cyan darken-2" id="mobile-demo">
    <li class="cyan darken-3"><b><a  id="vw_dashboard" class="white-text" style="margin-left:5%" href="#">Dashboard</a></b></li>
    <li><b><a  id="vw_chores" class="white-text" style="margin-left:5%" href="#">Chore Assignment</a></b></li>
    <li><b><a  id="vw_admin" class="white-text" style="margin-left:5%" href="#">Admin</a></b></li>
  </ul>

  
  <body class="blue-grey darken-4">
    
    <div data-include="duh" id="contentBlock"></div>

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <!-- Adding small javascript code for simple actions --> 
    <script>
      
      // Required for the popup menu to display when viewing a smaller screen.
      // Materialize css requirement
      document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.sidenav');
        var instances = M.Sidenav.init(elems, {});

        // below we create an array that will hold all of our page links. There
        // should be two of each.
        var links = new Array();
        document.querySelectorAll("[id=vw_dashboard]").forEach(element => links.push(element));
        document.querySelectorAll("[id=vw_chores]").forEach(element => links.push(element));
        document.querySelectorAll("[id=vw_admin]").forEach(element => links.push(element));
        
        // Now we set a function to run each time one is clicked.
        for(var link in links){
          // When looping, it was observed that the item 'link' that we provided is actually
          // the array index for each element in the array.
          console.log(links[link].id);
          links[link].addEventListener("click", link_clicked);
        }
      });
      
      // load dashboard html.
      fetch('dashboard.html').then(data => data.text()).then(html => document.getElementById('contentBlock').innerHTML = html);
      
      

      function link_clicked(event){
        console.log("link clicked!");
        console.log(event.srcElement.id);
      }
   </script>
  </body>

  
</html>